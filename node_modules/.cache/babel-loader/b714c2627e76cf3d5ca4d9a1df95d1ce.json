{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\82107\\\\Downloads\\\\\\uC131\\uC911\\uD604\\\\\\uCF54\\uB529\\\\React class\\\\shop\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"C:\\\\Users\\\\82107\\\\Downloads\\\\\\uC131\\uC911\\uD604\\\\\\uCF54\\uB529\\\\React class\\\\shop\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\82107\\\\Downloads\\\\\\uC131\\uC911\\uD604\\\\\\uCF54\\uB529\\\\React class\\\\shop\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\taggedTemplateLiteral.js\";var _templateObject,_templateObject2;/* eslint-disable */import React,{useContext,useEffect,useState}from'react';import{useHistory,useParams}from'react-router-dom';import{Nav}from'react-bootstrap';import{CSSTransition}from\"react-transition-group\";import styled from'styled-components';import'./Detail.scss';import{재고context}from'./App';import{connect}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var 박스=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding : 20px;\\n\"])));var 제목=styled.h4(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    font-size: 25px;\\n    color: \",\"\\n\"])),function(props){return props.색상;});function Detail(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],alert변경=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputData=_useState4[0],inputData변경=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),누른탭=_useState6[0],누른탭변경=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),스위치=_useState8[0],스위치변경=_useState8[1];var 재고=useContext(재고context);useEffect(function(){var 타이머=setTimeout(function(){alert변경(false);},2000);return function(){clearTimeout(타이머);};// 디테일 컴포넌트가 사라질때 타이머 제거\n},[]);// 스테이트가 변경될때만 실행하게하는 조건\nvar history=useHistory();var _useParams=useParams(),id=_useParams.id;var 찾은상품=props.shoes.find(function(상품){return 상품.id==id;});useEffect(function(){var arr=localStorage.getItem('watched');if(arr==null){arr=[];}else{arr=JSON.parse(arr);}arr.push(id);arr=new Set(arr);arr=_toConsumableArray(arr);localStorage.setItem('watched',JSON.stringify(arr));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(박스,{children:/*#__PURE__*/_jsx(제목,{색상:'#ff0033',children:\"Detail\"})}),inputData,/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){inputData변경(e.target.value);}}),alert===true?/*#__PURE__*/_jsx(\"div\",{className:\"my-alert\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC7AC\\uACE0\\uAC00 \\uC5BC\\uB9C8 \\uB0A8\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4\"})}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://codingapple1.github.io/shop/shoes1.jpg\",width:\"100%\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"pt-5\",children:찾은상품.title}),/*#__PURE__*/_jsx(\"p\",{children:찾은상품.content}),/*#__PURE__*/_jsxs(\"p\",{children:[찾은상품.price,\"\\uC6D0\"]}),/*#__PURE__*/_jsx(Info,{재고:props.재고}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){var newCount=_toConsumableArray(props.재고);newCount[0]=newCount[0]-1;props.재고변경(newCount);props.dispatch({type:'항목추가',payload:{id:찾은상품.id,name:찾은상품.title,quan:1}});history.push('/cart');},children:\"\\uC8FC\\uBB38\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){history.goBack();},children:\"\\uB4A4\\uB85C\\uAC00\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(Nav,{className:\"mt-5\",variant:\"tabs\",defaultActiveKey:\"link-0\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"link-0\",onClick:function onClick(){스위치변경(false);누른탭변경(0);},children:\"\\uC0C1\\uD488\\uC124\\uBA85\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"link-1\",onClick:function onClick(){스위치변경(false);누른탭변경(1);},children:\"\\uBC30\\uC1A1\\uC815\\uBCF4\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"link-2\",onClick:function onClick(){스위치변경(false);누른탭변경(2);},children:\"Option 3\"})})]}),/*#__PURE__*/_jsx(CSSTransition,{in:스위치,classNames:\"wow\",timeout:500,children:/*#__PURE__*/_jsx(TabContent,{누른탭:누른탭,스위치변경:스위치변경})})]});}function TabContent(props){useEffect(function(){props.스위치변경(true);});if(props.누른탭===0){return/*#__PURE__*/_jsx(\"div\",{children:\"0\"});}else if(props.누른탭===1){return/*#__PURE__*/_jsx(\"div\",{children:\"1\"});}else if(props.누른탭===2){return/*#__PURE__*/_jsx(\"div\",{children:\"2\"});}}function Info(props){return/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC7AC\\uACE0: \",props.재고[0]]});}function state를props화(state){return{state:state.reducer,alert열렸니:state.reducer2};}export default connect(state를props화)(Detail);","map":{"version":3,"sources":["C:/Users/82107/Downloads/성중현/코딩/React class/shop/src/Detail.js"],"names":["React","useContext","useEffect","useState","useHistory","useParams","Nav","CSSTransition","styled","재고context","connect","박스","div","제목","h4","props","색상","Detail","alert","alert변경","inputData","inputData변경","누른탭","누른탭변경","스위치","스위치변경","재고","타이머","setTimeout","clearTimeout","history","id","찾은상품","shoes","find","상품","arr","localStorage","getItem","JSON","parse","push","Set","setItem","stringify","e","target","value","title","content","price","newCount","재고변경","dispatch","type","payload","name","quan","goBack","TabContent","Info","state를props화","state","reducer","alert열렸니","reducer2"],"mappings":"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","sourcesContent":["/* eslint-disable */ \r\n\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport styled from 'styled-components';\r\nimport './Detail.scss';\r\nimport {재고context} from './App';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nlet 박스 = styled.div`\r\n    padding : 20px;\r\n`;\r\n\r\nlet 제목 = styled.h4`\r\n    font-size: 25px;\r\n    color: ${ props => props.색상 }\r\n`;\r\n\r\n\r\nfunction Detail(props) {\r\n\r\n    let [ alert, alert변경 ] = useState(true);\r\n    let [inputData, inputData변경 ] = useState('');\r\n    let [누른탭,누른탭변경] = useState(0);\r\n    let [스위치, 스위치변경] = useState(false);\r\n    let 재고 = useContext(재고context);\r\n\r\n    useEffect(()=>{\r\n        let 타이머 = setTimeout(()=>{ alert변경(false) },2000);\r\n        return () => {clearTimeout (타이머) } // 디테일 컴포넌트가 사라질때 타이머 제거\r\n    },[]); // 스테이트가 변경될때만 실행하게하는 조건\r\n\r\n    let history = useHistory();\r\n    let { id } = useParams();\r\n    let 찾은상품 = props.shoes.find(function (상품){\r\n        return 상품.id == id\r\n    });\r\n\r\n\r\n    useEffect( ()=> {\r\n        var arr = localStorage.getItem('watched');\r\n        if( arr == null ) { arr = [] } else { arr = JSON.parse(arr) }\r\n\r\n        arr.push(id);\r\n        arr = new Set(arr);\r\n        arr = [...arr];\r\n\r\n        localStorage.setItem('watched', JSON.stringify(arr) );\r\n\r\n    },[] );\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <박스>\r\n                <제목 색상={'#ff0033'} >Detail</제목>\r\n            </박스>\r\n\r\n            {inputData}\r\n            <input onChange={(e)=> {inputData변경(e.target.value) } } />\r\n\r\n            {\r\n                alert === true\r\n                ?(<div className='my-alert'>\r\n                    <p>재고가 얼마 남지 않았습니다</p>\r\n                </div>)\r\n                :null\r\n            }\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <img src=\"https://codingapple1.github.io/shop/shoes1.jpg\" width=\"100%\" />\r\n                </div>\r\n\r\n                <div className=\"col-md-6 mt-4\">\r\n                    <h4 className=\"pt-5\">{찾은상품.title}</h4>\r\n                    <p>{찾은상품.content}</p>\r\n                    <p>{찾은상품.price}원</p>\r\n                    \r\n                    <Info 재고={props.재고}></Info>\r\n\r\n                    <button className=\"btn btn-danger\" onClick={ ()=> { \r\n                        let newCount = [...props.재고];\r\n                        newCount[0] = newCount[0] - 1;\r\n                        props.재고변경(newCount);\r\n                        props.dispatch( {type: '항목추가', payload: {id:찾은상품.id, name: 찾은상품.title, quan: 1 }} );\r\n                        history.push('/cart');\r\n                    } }>주문하기</button>\r\n                    <button className=\"btn btn-danger\" onClick={ ()=> {\r\n                        history.goBack();\r\n                    } }>뒤로가기</button> \r\n                </div>\r\n            </div>\r\n\r\n            <Nav className=\"mt-5\" variant=\"tabs\" defaultActiveKey=\"link-0\">\r\n                <Nav.Item>\r\n                    <Nav.Link eventKey=\"link-0\" onClick={ ()=>{ 스위치변경(false); 누른탭변경(0) } } >상품설명</Nav.Link>\r\n                </Nav.Item>\r\n                <Nav.Item>\r\n                    <Nav.Link eventKey=\"link-1\" onClick={ ()=>{ 스위치변경(false); 누른탭변경(1) } }>배송정보</Nav.Link>\r\n                </Nav.Item>\r\n                <Nav.Item>\r\n                    <Nav.Link eventKey=\"link-2\" onClick={ ()=>{ 스위치변경(false); 누른탭변경(2) } }>Option 3</Nav.Link>\r\n                </Nav.Item>\r\n            </Nav>\r\n\r\n            <CSSTransition in={스위치} classNames=\"wow\" timeout={500}>\r\n                <TabContent 누른탭={누른탭} 스위치변경={스위치변경}></TabContent>\r\n            </CSSTransition>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction TabContent(props) {\r\n\r\n    useEffect( () => {\r\n        props.스위치변경(true);\r\n    });\r\n\r\n    if (props.누른탭 === 0) {\r\n        return <div>0</div>\r\n    } else if (props.누른탭 === 1){\r\n        return <div>1</div>\r\n    } else if (props.누른탭 === 2){\r\n        return <div>2</div>\r\n    }\r\n}\r\n\r\n\r\nfunction Info(props) {\r\n    return(\r\n        <p>재고: {props.재고[0]}</p>\r\n    )\r\n}\r\n\r\nfunction state를props화(state) {\r\n    return {\r\n        state: state.reducer,\r\n        alert열렸니: state.reducer2\r\n    }\r\n}\r\n\r\n\r\nexport default connect(state를props화)(Detail)"]},"metadata":{},"sourceType":"module"}